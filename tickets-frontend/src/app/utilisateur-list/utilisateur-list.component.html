<div class="container mt-5">
  <div class="row">
    <div class="col-lg-8 mx-auto">
      <h1 class="text-center mb-4">Liste des Utilisateurs</h1>

      <!-- Utilisateurs List -->
      <div *ngIf="utilisateurs.length > 0">
        <ul class="list-group">
          <li *ngFor="let utilisateur of utilisateurs" class="list-group-item d-flex justify-content-between align-items-center">
            <span>{{ utilisateur.nom }} ({{ utilisateur.email }})</span>
            <button class="btn btn-danger btn-sm">Supprimer</button>
          </li>
        </ul>
      </div>
      <p *ngIf="utilisateurs.length === 0" class="text-center text-muted">Aucun utilisateur trouvé.</p>

      <!-- Formulaire pour ajouter un nouvel utilisateur -->
      <div class="card mt-4 shadow-sm">
        <div class="card-body">
          <h2 class="card-title text-center mb-4">Créer un Nouvel Utilisateur</h2>
          <form (ngSubmit)="createUtilisateur()">
            <div class="mb-3">
              <label for="nom" class="form-label">Nom</label>
              <input type="text" id="nom" [(ngModel)]="newUtilisateur.nom" name="nom" class="form-control" required />
            </div>
            <div class="mb-3">
              <label for="email" class="form-label">Email</label>
              <input type="email" id="email" [(ngModel)]="newUtilisateur.email" name="email" class="form-control" required />
            </div>
            <div class="mb-3">
              <label for="role" class="form-label">Rôle</label>
              <select id="role" [(ngModel)]="newUtilisateur.role" name="role" class="form-select">
                <option value="USER">USER</option>
                <option value="TECHNICIEN">TECHNICIEN</option>
              </select>
            </div>
            <div class="mb-3">
              <label for="motDePasse" class="form-label">Mot de Passe</label>
              <input type="password" id="motDePasse" [(ngModel)]="newUtilisateur.motDePasse" name="motDePasse" class="form-control" required />
            </div>
            <div class="text-center">
              <button type="submit" class="btn btn-primary">Créer Utilisateur</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
